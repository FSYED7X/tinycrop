(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Crop = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var BackgroundLayer=function(t){t=t||{},this.colors=t.colors,this.parent=t.parent,this.context=t.context,this.isDirty=!0};BackgroundLayer.create=function(t){return new BackgroundLayer(t)},BackgroundLayer.prototype.revalidate=function(){this.isDirty=!0},BackgroundLayer.prototype.setColors=function(t){this.colors=t},BackgroundLayer.prototype.paint=function(){if(this.isDirty){var t=this.parent,r=this.context;if(this.colors&&this.colors.length?(r.fillStyle=this.colors[0],r.fillRect(0,0,t.width,t.height)):r.clearRect(0,0,t.width,t.height),this.colors&&this.colors.length>1){var o=t.height,i=32,e=t.width/i,s=Math.ceil(o/e);r.fillStyle=this.colors[1];for(var c=0;c<i;c+=1)for(var a=0;a<s;a+=1)(c+a)%2===0&&r.fillRect(c*e,a*e,e,e)}this.isDirty=!1}},module.exports=BackgroundLayer;


},{}],2:[function(require,module,exports){
function noop(){}function isPercent(t){return"string"==typeof t&&(!(t.length<1)&&("%"===t[t.length-1]||void 0))}function getPercent(t){return isPercent(t)?t.slice(0,-1):0}function isAuto(t){return"auto"===t}function isInteger(t){return"number"==typeof t&&Math.round(t)===t}var debounce=require("./debounce.js"),BackgroundLayer=require("./BackgroundLayer.js"),ImageLayer=require("./ImageLayer.js"),SelectionLayer=require("./SelectionLayer.js"),Image=require("./Image.js"),Listeners=require("./Listeners.js"),DEFAULT_CANVAS_WIDTH=400,DEFAULT_CANVAS_HEIGHT=300,Crop=function(t){this.parent="string"==typeof t.parent?document.querySelector(t.parent):t.parent,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.boundsOpts=t.bounds||{width:"100%",height:"auto"},t.selection=t.selection||{},this.debounceResize=void 0===t.debounceResize||t.debounceResize,this.listeners=Listeners.create(),this.parent.appendChild(this.canvas),this.backgroundLayer=BackgroundLayer.create({parent:this,context:this.context,colors:t.backgroundColors||["#fff","#f0f0f0"]}),this.imageLayer=ImageLayer.create({parent:this,context:this.context,image:this.image}),this.selectionLayer=SelectionLayer.create({parent:this,context:this.context,target:this.imageLayer,aspectRatio:t.selection.aspectRatio,minWidth:t.selection.minWidth,minHeight:t.selection.minHeight,x:t.selection.x,y:t.selection.y,width:t.selection.width,height:t.selection.height,handle:{color:t.selection.color,activeColor:t.selection.activeColor}});var e=this.listeners,i=this.paint.bind(this);this.selectionLayer.on("start",function(t){i(),e.notify("start",t)}).on("move",function(t){e.notify("move",t)}).on("resize",function(t){e.notify("resize",t)}).on("change",function(t){i(),e.notify("change",t)}).on("end",function(t){i(),e.notify("end",t)}),window.addEventListener("resize",this.debounceResize?debounce(this.revalidateAndPaint.bind(this),100):this.revalidateAndPaint.bind(this)),this.setImage(t.image),this.revalidateAndPaint()};Crop.create=function(t){return new Crop(t)},Crop.prototype.on=function(t,e){return this.listeners.on(t,e),this},Crop.prototype.off=function(t,e){return this.listeners.off(t,e),this},Crop.prototype.revalidateAndPaint=function(){this.revalidate(),this.paint()},Crop.prototype.revalidate=function(){var t=this.parent,e=this.image,i=this.boundsOpts.width,n=this.boundsOpts.height,o=0,r=0;o=isInteger(i)?i:t&&isPercent(i)?Math.round(t.clientWidth*getPercent(i)/100):DEFAULT_CANVAS_WIDTH,r=isInteger(n)?n:isPercent(n)?Math.round(o*getPercent(n)/100):e&&e.hasLoaded&&isAuto(n)?Math.floor(o/e.getAspectRatio()):DEFAULT_CANVAS_HEIGHT,this.resizeCanvas(o,r),this.backgroundLayer.revalidate(),this.imageLayer.revalidate(),this.selectionLayer.revalidate()},Crop.prototype.paint=function(){var t=this.context;t.save(),t.scale(this.ratio,this.ratio),this.backgroundLayer.paint(),this.image&&this.image.hasLoaded&&(this.imageLayer.paint(),this.selectionLayer.paint()),t.restore()},Crop.prototype.resizeCanvas=function(t,e){var i=this.context,n=this.canvas;this.ratio=1,i.webkitBackingStorePixelRatio||(this.ratio=window.devicePixelRatio||1),this.width=t,this.height=e,n.width=this.width*this.ratio,n.height=this.height*this.ratio},Crop.prototype.setImage=function(t){var e=Image.create(t).on("load",function(){this.selectionLayer.onImageLoad(),this.revalidateAndPaint()}.bind(this)).on("error",function(t){console.error(t)});this.imageLayer.setImage(e),this.image=e,this.revalidateAndPaint()},Crop.prototype.getImage=function(){return this.image},Crop.prototype.setAspectRatio=function(t){this.selectionLayer.setAspectRatio(t),this.revalidateAndPaint()},Crop.prototype.setBounds=function(t){this.boundsOpts=t,this.revalidateAndPaint()},Crop.prototype.setBackgroundColors=function(t){this.backgroundLayer.setColors(t),this.revalidateAndPaint()},Crop.prototype.dispose=noop,module.exports=Crop;

},{"./BackgroundLayer.js":1,"./Image.js":3,"./ImageLayer.js":4,"./Listeners.js":6,"./SelectionLayer.js":9,"./debounce.js":10}],3:[function(require,module,exports){
var loaded=require("./imageLoaded.js"),Listeners=require("./Listeners.js"),Image=function(t){if(this.width=0,this.height=0,this.hasLoaded=!1,this.src=null,this.listeners=Listeners.create(),t){if("string"==typeof t){this.src=t;var e=document.createElement("img");e.src=this.src,t=e}else this.src=t.src;this.source=t,loaded(t,function(e){e?this.notify("error",e):(this.hasLoaded=!0,this.width=t.naturalWidth,this.height=t.naturalHeight,this.notify("load",this))}.bind(this))}};Image.create=function(t){return new Image(t)},Image.prototype.getAspectRatio=function(){return this.hasLoaded?this.width/this.height:1},Image.prototype.notify=function(t,e){var i=this.listeners;setTimeout(function(){i.notify(t,e)},0)},Image.prototype.on=function(t,e){return this.listeners.on(t,e),this},Image.prototype.off=function(t,e){return this.listeners.off(t,e),this},module.exports=Image;


},{"./Listeners.js":6,"./imageLoaded.js":11}],4:[function(require,module,exports){
var Rectangle=require("./Rectangle.js"),ImageLayer=function(t){t=t||{},this.bounds=Rectangle.create(0,0,0,0),this.image=t.image||null,this.parent=t.parent,this.context=t.context};ImageLayer.create=function(t){return new ImageLayer(t)},ImageLayer.prototype.setImage=function(t){this.image=t},ImageLayer.prototype.revalidate=function(){var t=this.parent,e=this.image,h=this.bounds;e&&(e.width/e.height>=t.width/t.height?(h.width=t.width,h.height=Math.ceil(e.height/e.width*t.width),h.x=0,h.y=Math.floor(.5*(t.height-h.height))):(h.width=Math.ceil(e.width/e.height*t.height),h.height=t.height,h.x=Math.floor(.5*(t.width-h.width)),h.y=0))},ImageLayer.prototype.paint=function(){var t=this.context,e=this.image,h=this.bounds;e&&e.hasLoaded&&t.drawImage(e.source,0,0,e.width,e.height,h.x,h.y,h.width,h.height)},module.exports=ImageLayer;


},{"./Rectangle.js":7}],5:[function(require,module,exports){
var Listeners=require("./Listeners.js"),Input=function(n){function t(n){var t=n.offsetX,e=n.offsetY;return{source:n,x:t,y:e,dx:u?t-u.x:0,dy:u?e-u.y:0,type:"Mouse"}}function e(n){var t=n.target.getBoundingClientRect(),e=n.touches.length>0?n.touches[0]:n.changedTouches[0],o=e.clientX-t.left,i=e.clientY-t.top;return{source:n,x:o,y:i,dx:u?o-u.x:0,dy:u?i-u.y:0,type:"Touch"}}var o=Listeners.create(),u=null;this.listeners=o,n.addEventListener("mousedown",function(n){u=t(n),o.notify("down",u)}),n.addEventListener("touchstart",function(n){u=e(n),o.notify("down",u)}),n.addEventListener("mousemove",function(n){o.notify("move",t(n))}),n.addEventListener("touchmove",function(n){o.notify("move",e(n))}),n.addEventListener("mouseup",function(n){o.notify("up",t(n))}),n.addEventListener("touchend",function(n){o.notify("up",e(n)),u=null}),n.addEventListener("mouseout",function(n){o.notify("cancel",t(n)),u=null}),n.addEventListener("touchcancel",function(n){o.notify("cancel",e(n)),u=null})};Input.create=function(n){return new Input(n)},Input.prototype.on=function(n,t){return this.listeners.on(n,t),this},Input.prototype.off=function(n,t){return this.listeners.off(n,t),this},module.exports=Input;


},{"./Listeners.js":6}],6:[function(require,module,exports){
var Listeners=function(t){this.events={}};Listeners.create=function(t){return new Listeners(t)},Listeners.prototype.on=function(t,e){return this.events[t]||(this.events[t]=[]),this.events[t].indexOf(e)===-1&&this.events[t].push(e),this},Listeners.prototype.off=function(t,e){if(this.events[t]){var s=this.events[t].indexOf(e);s!==-1&&this.events[t].splice(s,1)}return this},Listeners.prototype.notify=function(t,e){this.events[t]&&this.events[t].forEach(function(t){t.call(this,e)}.bind(this))},Listeners.prototype.clearAll=function(){this.events={}},module.exports=Listeners;


},{}],7:[function(require,module,exports){
var Rectangle=function(t,i,h,e){this._x=t,this._y=i,this._width=h,this._height=e};Rectangle.prototype.copy=function(t){return this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height,this},Rectangle.prototype.clone=function(){return Rectangle.create(this._x,this._y,this._width,this._height)},Rectangle.prototype.round=function(){var t=this._x,i=this._y;return this._x=Math.round(t),this._y=Math.round(i),t-=this._x,i-=this._y,this._width=Math.round(this._width+t),this._height=Math.round(this._height+i),this},Rectangle.prototype.isInside=function(t){return t.x>=this.left&&t.y>=this.top&&t.x<this.right&&t.y<this.bottom},Object.defineProperties(Rectangle.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t}},y:{get:function(){return this._y},set:function(t){this._y=t}},centerX:{get:function(){return this._x+.5*this._width},set:function(t){this._x=t-.5*this._width}},centerY:{get:function(){return this._y+.5*this._height},set:function(t){this._y=t-.5*this._height}},width:{get:function(){return this._width},set:function(t){this._width=t}},height:{get:function(){return this._height},set:function(t){this._height=t}},left:{get:function(){return this._x},set:function(t){this._width=this._x+this._width-t,this._x=t}},top:{get:function(){return this._y},set:function(t){this._height=this._y+this._height-t,this._y=t}},right:{get:function(){return this._x+this._width},set:function(t){this._width=t-this._x}},bottom:{get:function(){return this._y+this._height},set:function(t){this._height=t-this._y}},aspectRatio:{get:function(){return this._width/this._height}}}),Rectangle.create=function(t,i,h,e){return new Rectangle(t,i,h,e)},module.exports=Rectangle;

},{}],8:[function(require,module,exports){
var Rectangle=require("./Rectangle.js"),Selection=function(t){this.target=t.target||null,this.bounds=Rectangle.create(0,0,0,0),this.boundsPx=Rectangle.create(0,0,0,0),this.region=Rectangle.create(0,0,0,0),this.initialOpts={x:t.x,y:t.y,width:t.width,height:t.height},this.aspectRatio=t.aspectRatio,this.minWidth=void 0!==t.minWidth?t.minWidth:100,this.minHeight=void 0!==t.minHeight?t.minHeight:100,this.boundsMinWidth=0,this.boundsMinHeight=0,this._delta={x:0,h:0}};Object.defineProperties(Selection.prototype,{x:{get:function(){return this.bounds.x},set:function(t){this.bounds.x=t}},y:{get:function(){return this.bounds.y},set:function(t){this.bounds.y=t}},width:{get:function(){return this.bounds.width},set:function(t){this.bounds.width=t}},height:{get:function(){return this.bounds.height},set:function(t){this.bounds.height=t}},left:{get:function(){return this.bounds.x},set:function(t){this.bounds.left=t}},top:{get:function(){return this.bounds.y},set:function(t){this.bounds.top=t}},right:{get:function(){return this.bounds.right},set:function(t){this.bounds.right=t}},bottom:{get:function(){return this.bounds.bottom},set:function(t){this.bounds.bottom=t}}}),Selection.prototype.getBoundsLengthForRegion=function(t){return t/this.region.width*this.width},Selection.prototype.moveBy=function(t,i){var h=this.bounds,e=this.target;return h.x=Math.min(Math.max(h.x+t,e.bounds.x),e.bounds.x+e.bounds.width-h.width),h.y=Math.min(Math.max(h.y+i,e.bounds.y),e.bounds.y+e.bounds.height-h.height),this.updateRegionFromBounds()},Selection.prototype.resizeBy=function(t,i,h){function e(t,i){return n.width=s.width+t,n.height=s.height+i,n.width=Math.max(d,n.width),n.height=Math.max(u,n.height),o&&(n.width/n.height>o?n.width=n.height*o:n.height=n.width/o),n.width-=s.width,n.height-=s.height,n}var n=this._delta,o=this.aspectRatio,s=this.bounds,d=this.boundsMinWidth,u=this.boundsMinHeight,g=this.target;switch("n"===h[0]?i=Math.min(i,this.top-g.bounds.top):"s"===h[0]&&(i=Math.min(i,g.bounds.bottom-this.bottom)),"w"===h[1]?t=Math.min(t,this.left-g.bounds.left):"e"===h[1]&&(t=Math.min(t,g.bounds.right-this.right)),n=e(t,i),h){case"nw":this.left-=n.width,this.top-=n.height;break;case"ne":this.right+=n.width,this.top-=n.height;break;case"sw":this.left-=n.width,this.bottom+=n.height;break;case"se":this.right+=n.width,this.bottom+=n.height}return this.updateRegionFromBounds()},Selection.prototype.autoSizeRegion=function(){var t=this.target,i=this.region,h=this.aspectRatio,e=this.initialOpts,n=i.x,o=i.y,s=i.width,d=i.height;return i.x=void 0!==e.x?e.x:0,i.y=void 0!==e.y?e.y:0,i.width=void 0!==e.width?e.width:t.image.width,i.height=void 0!==e.height?e.height:t.image.height,h&&(i.width/i.height>h?i.width=i.height*h:i.height=i.width/h),void 0===e.x&&(i.centerX=.5*t.image.width),void 0===e.y&&(i.centerY=.5*t.image.height),i.round(),this.updateBoundsFromRegion(),i.x!==n||i.y!==o||i.width!==s||i.height!==d},Selection.prototype.updateRegionFromBounds=function(){var t=this.target,i=this.region,h=this.bounds,e=i.x,n=i.y,o=i.width,s=i.height;return i.x=t.image.width*(h.x-t.bounds.x)/t.bounds.width,i.y=t.image.height*(h.y-t.bounds.y)/t.bounds.height,i.width=t.image.width*(h.width/t.bounds.width),i.height=t.image.height*(h.height/t.bounds.height),i.round(),i.x!==e||i.y!==n||i.width!==o||i.height!==s},Selection.prototype.updateBoundsFromRegion=function(){var t=this.target,i=this.region,h=this.bounds;t.image&&(h.x=t.bounds.x+t.bounds.width*(i.x/t.image.width),h.y=t.bounds.y+t.bounds.height*(i.y/t.image.height),h.width=t.bounds.width*(i.width/t.image.width),h.height=t.bounds.height*(i.height/t.image.height)),this.boundsMinWidth=this.getBoundsLengthForRegion(this.minWidth),this.boundsMinHeight=this.getBoundsLengthForRegion(this.minHeight)},Selection.prototype.isInside=function(t){return this.bounds.isInside(t)},Selection.create=function(t){return new Selection(t)},module.exports=Selection;


},{"./Rectangle.js":7}],9:[function(require,module,exports){
var Input=require("./Input.js"),Listeners=require("./Listeners.js"),Selection=require("./Selection.js"),Rectangle=require("./Rectangle.js"),SelectionLayer=function(t){t=t||{},this.selection=Selection.create(t),this.parent=t.parent,this.context=t.context,this.context.setLineDash=this.context.setLineDash||function(){},this.target=t.target;var e=t.handle||{};e.length=e.handleLength||32,e.depth=e.depth||3,e.size=e.size||2*e.length,e.color=e.color||"rgba(255, 255, 255, 1.0)",e.activeColor=e.activeColor||"rgba(255, 0, 160, 1.0)",this.handleOpts=e,this.listeners=Listeners.create(),this.input=Input.create(this.parent.canvas),this.activeRegion=null,this.downBounds=Rectangle.create(0,0,0,0),this.input.on("down",this.onInputDown.bind(this)),this.input.on("move",this.onInputMove.bind(this)),this.input.on("up",this.onInputUpOrCancel.bind(this)).on("cancel",this.onInputUpOrCancel.bind(this))};SelectionLayer.create=function(t){return new SelectionLayer(t)},SelectionLayer.prototype.onInputDown=function(t){var e=this.findHitRegion(t);e&&(t.source.preventDefault(),this.activeRegion=e,this.setCursor(e),this.downBounds.copy(this.selection.bounds),this.listeners.notify("start",this.selection.region))},SelectionLayer.prototype.onInputMove=function(t){var e=this.activeRegion;if(e){t.source.preventDefault();var i=this.selection,n=!1;if(i.bounds.copy(this.downBounds),"move"===e)n=i.moveBy(t.dx,t.dy),n&&this.listeners.notify("move",this.selection.region);else{var o=e.substring(0,2),s="w"===o[1]?-t.dx:t.dx,r="n"===o[0]?-t.dy:t.dy;n=i.resizeBy(s,r,o),n&&this.listeners.notify("resize",this.selection.region)}n&&this.listeners.notify("change",this.selection.region)}else{var l=this.findHitRegion(t);l?(t.source.preventDefault(),this.setCursor(l)):this.resetCursor()}},SelectionLayer.prototype.onInputUpOrCancel=function(t){t.source.preventDefault(),this.activeRegion&&(this.activeRegion=null,this.resetCursor(),this.listeners.notify("end",this.selection.region))},SelectionLayer.prototype.findHitRegion=function(t){var e=null,i=Number.MAX_VALUE,n=this.isWithinNorthWestHandle(t);return n!==!1&&n<i&&(i=n,e="nw-resize"),n=this.isWithinNorthEastHandle(t),n!==!1&&n<i&&(i=n,e="ne-resize"),n=this.isWithinSouthWestHandle(t),n!==!1&&n<i&&(i=n,e="sw-resize"),n=this.isWithinSouthEastHandle(t),n!==!1&&n<i&&(i=n,e="se-resize"),e?e:this.isWithinBounds(t)?"move":null},SelectionLayer.prototype.on=function(t,e){return this.listeners.on(t,e),this},SelectionLayer.prototype.off=function(t,e){return this.listeners.off(t,e),this},SelectionLayer.prototype.setCursor=function(t){this.parent.canvas.style.cursor!==t&&(this.parent.canvas.style.cursor=t)},SelectionLayer.prototype.resetCursor=function(){this.setCursor("auto")},SelectionLayer.prototype.isWithinRadius=function(t,e,i,n,o){var s=o*o,r=t-i,l=e-n,h=r*r+l*l;return h<s&&h},SelectionLayer.prototype.isWithinNorthWestHandle=function(t){return this.isWithinRadius(t.x,t.y,this.selection.left,this.selection.top,this.getHandleRadius())},SelectionLayer.prototype.isWithinNorthEastHandle=function(t){return this.isWithinRadius(t.x,t.y,this.selection.right,this.selection.top,this.getHandleRadius())},SelectionLayer.prototype.isWithinSouthWestHandle=function(t){return this.isWithinRadius(t.x,t.y,this.selection.left,this.selection.bottom,this.getHandleRadius())},SelectionLayer.prototype.isWithinSouthEastHandle=function(t){return this.isWithinRadius(t.x,t.y,this.selection.right,this.selection.bottom,this.getHandleRadius())},SelectionLayer.prototype.isWithinBounds=function(t){return this.selection.isInside(t)},SelectionLayer.prototype.getHandleRadius=function(){return this.handleOpts.size/2},SelectionLayer.prototype.onImageLoad=function(){this.autoSizeRegionAndNotify()},SelectionLayer.prototype.setAspectRatio=function(t){this.selection.aspectRatio=t,this.autoSizeRegionAndNotify()},SelectionLayer.prototype.autoSizeRegionAndNotify=function(){var t=this.selection.autoSizeRegion();t&&this.listeners.notify("change",this.selection.region)},SelectionLayer.prototype.revalidate=function(){this.selection.updateBoundsFromRegion()},SelectionLayer.prototype.paint=function(){this.selection.boundsPx.copy(this.selection.bounds).round(),this.paintOutside(),this.paintInside()},SelectionLayer.prototype.paintOutside=function(){var t=this.selection.boundsPx,e=this.context,i=this.target,n=i.bounds.x,o=i.bounds.y,s=i.bounds.width,r=i.bounds.right,l=i.bounds.bottom,h=t.x,a=t.y,c=t.height,u=t.right,y=t.bottom;e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(n,o,s,a-o),e.fillRect(n,a,h-n,c),e.fillRect(u,a,r-u,c),e.fillRect(n,y,s,l-y)},SelectionLayer.prototype.paintInside=function(){var t=this.context,e=this.selection.boundsPx,i=this.activeRegion,n=this.handleOpts,o=Math.min(n.length,.5*e.width),s=Math.min(n.length,.5*e.height),r=n.depth,l=n.color,h=n.activeColor,a=0;t.fillStyle="rgba(255, 255, 255, 0.3)",t.fillRect(e.x+a,e.y,e.width-2*a,r),t.fillRect(e.x+a,e.bottom-r,e.width-2*a,r),t.fillRect(e.x,e.y+a,r,e.height-2*a),t.fillRect(e.right-r,e.y+a,r,e.height-2*a);var c="move"===i;t.fillStyle=c||"nw-resize"===i?h:l,t.fillRect(e.x,e.y,o,r),t.fillRect(e.x,e.y+r,r,s-r),t.fillStyle=c||"ne-resize"===i?h:l,t.fillRect(e.right-o,e.y,o,r),t.fillRect(e.right-r,e.y+r,r,s-r),t.fillStyle=c||"sw-resize"===i?h:l,t.fillRect(e.x,e.bottom-r,o,r),t.fillRect(e.x,e.bottom-s,r,s-r),t.fillStyle=c||"se-resize"===i?h:l,t.fillRect(e.right-o,e.bottom-r,o,r),t.fillRect(e.right-r,e.bottom-s,r,s-r),t.strokeStyle="rgba(255, 255, 255, 0.6)",t.setLineDash([2,3]),t.lineWidth=1,t.beginPath();var u=e.width/3,y=e.height/3;t.moveTo(e.x+u,e.y),t.lineTo(e.x+u,e.y+e.height),t.moveTo(e.x+2*u,e.y),t.lineTo(e.x+2*u,e.y+e.height),t.moveTo(e.x,e.y+y),t.lineTo(e.x+e.width,e.y+y),t.moveTo(e.x,e.y+2*y),t.lineTo(e.x+e.width,e.y+2*y),t.stroke(),t.closePath()},module.exports=SelectionLayer;


},{"./Input.js":5,"./Listeners.js":6,"./Rectangle.js":7,"./Selection.js":8}],10:[function(require,module,exports){
function debounce(e,n,u){var o;return function(){var t=this,c=arguments;clearTimeout(o),o=setTimeout(function(){o=null,u||e.apply(t,c)},n),u&&!o&&e.apply(t,c)}}module.exports=debounce;

},{}],11:[function(require,module,exports){
function imageLoaded(e,r){if(!e.nodeName||"img"!==e.nodeName.toLowerCase())return r(new Error("First argument must an image element"));if(e.src&&e.complete&&void 0!==e.naturalWidth)return r(null,!0);if(e.addEventListener("load",function(){r(null,!1)}),e.addEventListener("error",function(a){r(new Error("Failed to load image '"+(e.src||"")+"'"))}),e.complete){var a=e.src;e.src=BLANK,e.src=a}}var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";module.exports=imageLoaded;


},{}]},{},[2])(2)
});